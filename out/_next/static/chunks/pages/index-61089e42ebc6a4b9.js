(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6682)}])},6682:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var i=t(5666),r=t.n(i),a=t(5893),o=t(8067),s=t(6867),l=t(9199),c=t(112),d=t(1142),h=t(1181),u=t(9952),x=t(8129),p=t(5035),f=t(4325),m=t(9643),g=t(7239),j=t(3487),v=t(7661),w=t(2167),y=t(1521),b=t(7294),k=(0,o.k)((function(e){return{mainApp:{width:"100%",height:"auto",marginTop:"12px",marginBottom:"12px",padding:"12px 0",background:e.colors.gray[2],borderRadius:"48px 0"},target:{width:"80%",display:"flex",flexDirection:"column",alignItems:"center",fontWeight:100},dropzone:{height:"240px",width:"800px"},imageIcon:{width:"80px",height:"80px",color:"#333"},fileList:{display:"inline-block",alignItems:"center",border:"1px solid #333",borderRadius:"32px",fontSize:"14px",fontWeight:"100",padding:"0 20px"},listContainer:{display:"flex",flexWrap:"auto",width:"800px",color:"#000"},modal:{width:"100vw",height:"100vh"}}})),C=function(e){var n=e.setmodal,t=e.newFile,i=k().classes,r=(0,b.useState)(""),o=r[0],s=r[1],l=(0,b.useState)(!1),d=(l[0],l[1],(0,b.useState)([])),h=d[0],u=d[1],x=h.map((function(e){var n=e.name.split(".")[0];return(0,a.jsx)("label",{className:i.fileList,children:e.name},n)})),C=(0,b.useRef)(null),N=(0,b.useState)(!1),z=N[0],P=N[1];return(0,a.jsxs)(p.Z,{size:"xl",position:"center",direction:"column",className:i.mainApp,children:[z?(0,a.jsx)(f.P,{style:{width:"420px",position:"fixed",bottom:"0",zIndex:"10"},onClose:function(){P(!1)},children:"There is no file or target format selected"}):null,(0,a.jsx)("div",{className:i.target,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(c.x,{component:"p",styles:{padding:"4px 0"},children:"Convert image to ...."}),(0,a.jsxs)(m.c,{value:o,onChange:function(e){return s(e)},children:[(0,a.jsx)(g.A,{value:"jpeg",children:"JPEG"}),(0,a.jsx)(g.A,{value:"png",children:"PNG"}),(0,a.jsx)(g.A,{value:"webp",children:"WEBP"}),(0,a.jsx)(g.A,{value:"avif",children:"AVIF"})]})]})}),(0,a.jsx)(v.f,{ref:C,id:"upload",size:"xl",onDrop:function(e){!function(e){u(e)}(e)},accept:w.d1,my:"24px",children:function(e){return(0,a.jsxs)(p.Z,{className:i.dropzone,position:"center",children:[(0,a.jsx)(y.XBm,{className:i.imageIcon}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.x,{children:"Drag and Drop or Click to select file you want to upload."}),(0,a.jsx)(c.x,{color:"gray",children:"Select many files you would like to upload and convert"}),(0,a.jsx)(c.x,{color:"gray",children:"Click Convert to continue"})]})]})}}),(0,a.jsx)(p.Z,{position:"center",className:i.listContainer,children:x}),(0,a.jsx)(j.z,{onClick:function(){if(h.length)if(o){n();var e=document.getElementById("upload").firstChild.files,i=e.length;e=Array.from(e);var r=function(n){var t=new FormData;return t.append("message","send"),t.append("format",o),t.append("resize",!1),t.append("file",e[0]),t.append("order",i-n),t},a=function(){e.length&&fetch("https://imagebliss.deta.dev/api/v1/imageconverter",{method:"POST",body:r(e.length)}).then((function(n){n.json().then((function(e){t(e,e.idx,h,o)})),e.shift(),e.length&&a()}))};a()}else P(!0);else P(!0)},children:"Convert"})]})},N=t(9008);function z(e,n,t,i,r,a,o){try{var s=e[a](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(i,r)}function P(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function o(e){z(a,i,r,o,s,"next",e)}function s(e){z(a,i,r,o,s,"throw",e)}o(void 0)}))}}function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function A(e){var n=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,n)).toFixed(2)+" "+["Bytes","kB","MB","GB","TB"][n]}var S=(0,o.k)((function(e){return{main:{display:"grid",gridTemplateRows:"auto 1fr auto",height:"100%",fontFamily:"Poppins, sans-serif"},heading:_({maxWidth:"100%",background:"#333",padding:"16px 48px",width:"100%",color:"#fff",borderRadius:"0 48px"},"h1",_({fontSize:"72px",fontWeight:100,padding:0,margin:0},"@media (max-width: ".concat(e.breakpoints.sm,"px)"),{fontSize:"48px"})),contents:{height:"100%",width:"80%"},footer:_({},"p",{textAlign:"center",fontWeight:700})}})),T=function(e){var n=(0,b.useState)(!1),t=n[0],i=n[1],o=S().classes,p=(0,b.useState)([]),f=p[0],m=p[1],g=(0,b.useRef)(null),j=function(e,n,t,i){var r=t.map((function(e,n){var t=e.name.split(".");return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:n+1}),(0,a.jsx)("td",{children:t[0]}),(0,a.jsx)("td",{children:t[1]}),(0,a.jsx)("td",{children:i}),(0,a.jsx)("td",{children:A(e.size)}),(0,a.jsx)("td",{children:(0,a.jsx)(d.a,{size:"xs",style:{display:"block",margin:"auto"}})}),(0,a.jsx)("td",{children:(0,a.jsx)(d.a,{size:"xs",style:{display:"block",margin:"auto"}})})]},e.name)}));m(Array.from(r))},v=P(r().mark((function e(n,t,i,a){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=A(o=atob(n.data).length),e.next=4,new Promise(P(r().mark((function e(n,o){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,j(0,0,i,a);case 3:n();case 4:case"end":return e.stop()}}),e)})))).then((function(e){g.current.children[t].children[5].innerHTML="<div style='text-align:center'>".concat(o,"</div>"),g.current.children[t].children[6].innerHTML="<div style='text-align:center'><a download=\"".concat(g.current.children[t].children[1].innerText,".").concat(a,"\" href='data:image/").concat(a,";base64,").concat(n.data,'\' style="text-decoration:none;color:blue">Download</a></div>')}));case 4:case"end":return e.stop()}}),e)})));return(0,a.jsxs)("main",{className:o.main,children:[(0,a.jsx)(N.default,{children:(0,a.jsx)("title",{children:"Image Converter"})}),(0,a.jsx)(s.W,{className:o.heading,children:(0,a.jsx)(h.D,{className:o.heading,children:"Image Converter"})}),(0,a.jsxs)(s.W,{size:"100%",className:o.contents,children:[(0,a.jsx)(u.u,{size:"xl",opened:t,onClose:function(){i(!1),m([])},children:(0,a.jsxs)(x.i,{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"id"}),(0,a.jsx)("th",{children:"Filename"}),(0,a.jsx)("th",{children:"Format"}),(0,a.jsx)("th",{children:"Target"}),(0,a.jsx)("th",{children:"Upload Size"}),(0,a.jsx)("th",{children:(0,a.jsx)("p",{style:{textAlign:"center"},children:"Covertion"})}),(0,a.jsx)("th",{children:(0,a.jsx)("p",{style:{textAlign:"center"},children:"Progress"})})]})}),(0,a.jsx)("tbody",{ref:g,id:"table_root",children:f.map((function(e){return e}))})]})}),(0,a.jsx)(C,{setmodal:function(){i(!t)},newFile:v})]}),(0,a.jsx)(l.X,{className:o.footer,children:(0,a.jsx)(c.x,{component:"p",children:"fransbell@github.io"})})]})}}},function(e){e.O(0,[774,297,579,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);